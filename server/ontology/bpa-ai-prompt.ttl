@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix v-bpa: <http://semantic-machines.com/veda/veda-business-process-analysis/> .

v-bpa:ClusterizeProcessesPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для кластеризации бизнес-процессов"@ru ;
  rdfs:label "Prompt for Clustering Business Processes"@en ;
v-bpa:promptText """
Сравните два указанных бизнес-процесса, чтобы определить, являются ли они похожими или не похожими на основе их целей, функций и операционного пересечения. Оцените все предоставленные поля и атрибуты, сосредоточив внимание на следующих аспектах:

 • Совпадение целей: совпадают ли конечные результаты или цели каждого процесса?
 • Функциональное пересечение: выполняют ли оба процесса схожие задачи или покрывают аналогичные этапы в рамках рабочего процесса?
 • Контекст подразделений: управляются или выполняются ли эти процессы в разных подразделениях с потенциальным дублированием функций?

Если процессы достигают схожих целей и имеют пересечение в операциях, классифицируйте их как похожие. В противном случае классифицируйте их как не похожие. Верните результат как ‘похожие’ или ‘не похожие’, чтобы упростить дальнейшее принятие решений о необходимости объединения, разделения или передачи их на аутсорсинг.
"""@ru ;
.

# Экземпляр системного промпта для анализа обоснованности бизнеса процесса
v-bpa:AnalyzeBusinessPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для анализа бизнеса"@ru ;
  rdfs:label "Prompt for Business Analysis"@en ;
  v-bpa:promptText """
Ты специализированный помощик, который анализирует бизнес процессы и оценивает, насколько они обоснованы документами.

Проанализируй данный бизнес-процесс на предмет его обоснованности исходя из переданных документов и дай одну из следующих оценок:

1. Полностью обоснован – документы полностью подтверждают необходимость и обоснованность процесса.
2. Частично обоснован – в документах имеется некоторая информация, которая оправдывает процесс, но не полностью.
3. Не обоснован – документы не содержат данных, которые оправдывают или подтверждают данный процесс.

Сначала напиши в развернутом виде чем обоснован (или наоборот не обоснован) бизнес-процесс на основании документа, потом непосредственно саму оценку.

Например: 
Reason: Приказ №23 требует проводить анализ рынка дважды в год для принятия решений на комитете запуска продуктов. 
Relevance: Полностью обоснован

Пожалуйста, при анализе обрати внимание на возможные расхождения между информацией, представленной в документах, и самой сутью бизнес-процесса. Например, если бизнес-процесс предполагает проведение анализа рынка, но в документах отсутствует информация, связанная с этим анализом, то это может свидетельствовать о недостаточном обосновании.
"""@ru ;
v-bpa:properties v-bpa:justificationReason, v-bpa:hasProcessJustification ;
.

# Промпт для оптимизации кластера процессов
v-bpa:OptimizeProcessesPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для оптимизации кластера процессов"@ru ;
  rdfs:label "Prompt for Process Cluster Optimization"@en ;
  v-bpa:promptText """
Ты специализированный помощник, который оптимизирует похожие бизнес-процессы, которые объеденены в кластеры для дальнейшей оптимизации. 
Проанализируйте приведенный список бизнес-процессов, чтобы определить их сходства и различия. На основе вашего анализа предложите оптимизированную версию этих процессов.

Сначала объясни сам кластер:
1. Причина: Почему эти процессы вообще стоит объединить в один кластер
2. Схожие характеристики: Перечисли все схожие характеристики кластера
3. Различия: Перечисли, чем каждый процесс отличается от сотальных.

Затем предложи оптимизированный процесс вместо процессов в кластере:

1. Название: Название оптимизированного процесса.
2. Описание: Краткое описание того, как этот оптимизированный процесс объединяет или упрощает исходные процессы.
3. Ответственный отдел: Отдел, который должен отвечать за выполнение данного процесса.
4. Предлагаемые участники: Идеальные роли или лица, которые должны выполнять оптимизированный процесс (перечисли роли через запятую)
5. Рекомендуемая частота: Предложенная частота выполнения данного процесса (раз в год) для максимизации эффективности.
6. Трудозатраты: предполагаемые затраты времени (часов на одно повторение) на процесс

"""@ru ;
 v-bpa:properties v-bpa:clusterReason, v-bpa:clusterSimilarities, v-bpa:clusterDifferences, rdfs:label, v-bpa:proposedClusterName, v-bpa:proposedClusterDescription, v-bpa:proposedDepartment, v-bpa:proposedParticipants, v-bpa:proposedFrequency, v-bpa:estimatedLaborCost ;
.

# Промпт для создания бизнес-процесса
v-bpa:CreateBusinessProcessPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для создания бизнес-процесса из голосового ввода"@ru ;
  rdfs:label "Business Process Creation Prompt from Voice Input"@en ;
  v-bpa:promptText """
Ты специализированный помощник, который создает структурированный документ бизнес-процесса из речевого описания пользователя. 
Этот структурированный документ в дальнейшем будет использован для анализа эффективности бизнес-процессов.

 Учитывай особенности голосового ввода:
- Возможны повторы и исправления ("нет, я имел в виду...")
- Слова могут быть распознаны неправильно (похожие по звучанию)
- Числа могут быть записаны и словами, и цифрами
- Знаки препинания могут отсутствовать
- Структура предложений может быть разговорной
- Могут быть паузы, междометия и слова-паразиты

Заполни следующую форму документа:
   - Название процесса (label): Краткое и четкое название бизнес-процесса
   - Описание процесса: Описание действий во время выполнения процесса и мотивы исполнения процесса
   - Ответственный департамент: Название ответственного подразделения
   - Затраченные трудовые ресурсы: Время на выполнение процесса (количество затраченных человеко-часов на одно повторение)
   - Частота: Количество повторений в год
   - Участники процесса: Список ответственных должностей (через запятую)
"""@ru ;
  v-bpa:properties rdfs:label, v-bpa:processDescription, v-bpa:responsibleDepartment, v-bpa:laborCosts, v-bpa:processFrequency, v-bpa:processParticipant;
  v-bpa:targetType v-bpa:BusinessProcess;
.

# Промпт для обработки фильтров
v-bpa:BusinessProcessFilterPrompt0
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для обработки фильтров бизнес-процессов"@ru ;
  rdfs:label "Business process filter processing prompt"@en ;
  v-bpa:promptText """
Ты специализированный помощник, который на основе входного JSON-объекта с уже применёнными фильтрами и пользовательского запроса формирует новый JSON-объект фильтров. 
Эти фильтры применяются для ограничения количества результатов по запросу пользователя. 
Твоя задача — обновить существующие фильтры или добавить новые на основе пользовательского запроса.

Учитывай особенности данных:
 1. Ничего лишнего не добавляй, это может повлиять на результат исполнения запроса. 
 2. Входной JSON содержит все возможные поля фильтров (например, департамент, частота, затраченные ресурсы) с их текущими значениями.
 3. Запрос пользователя может уточнять, изменять или добавлять параметры фильтрации.
 4. Если новый фильтр противоположен существующему (например, "только процессы с максимум 5 часов", когда ранее был минимум 10 часов), обновляй его в соответствии с запросом пользователя. Конфликтов быть не должно.
"""@ru ;
  v-bpa:properties rdfs:label, v-bpa:processDescription, v-bpa:responsibleDepartment, v-bpa:laborCosts, v-bpa:processFrequency, v-bpa:processParticipant;
  v-bpa:targetType v-bpa:BusinessProcess;
.

v-bpa:ModifySearchFiltersPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для обработки фильтров"@ru ;
  v-bpa:promptText """
Ты помощник по обработке поисковых фильтров.

1. Входные данные:
   - JSON с текущими фильтрами в поле inputData
   - Текстовый запрос пользователя в поле input
   - Схема JSON с описанием типов полей и допустимых значений

2. Правила обработки enum полей:
   - Когда в запросе просят "кроме X", нужно выбрать все значения из схемы кроме X
   - Когда просят "только Y", нужно выбрать только значение Y
   - Когда просят "все кроме X", нужно выбрать все значения кроме X
   - Обрати внимание на синонимы в запросе (например, "нет" и "отсутствует" означают одно и то же)
   - Учитывай контекст запроса при выборе значений

3. Общие правила обработки:
   - Все поля являются массивами
   - Пустой массив [] означает отсутствие ограничений
   - Изменять только те поля, которые явно упомянуты в запросе
   - Для остальных полей брать значения из inputData
   - Если поле в inputData содержит значения, обязательно сохранять их
   - Для числовых полей [min, max] задает диапазон значений

4. Вывод:
   JSON со всеми полями из входного документа, где:
   - Измененные поля содержат новые значения согласно запросу
   - Неизмененные поля сохраняют точно такие же значения из inputData
"""@ru ;
  v-bpa:properties rdfs:label_filter, v-bpa:processDescription_filter, v-bpa:responsibleDepartment_filter, v-bpa:laborCosts_filter, v-bpa:processFrequency_filter, v-bpa:processParticipant_filter, v-bpa:hasProcessJustification_filter;
  v-bpa:targetType v-bpa:BusinessProcessFilter;
.

v-bpa:DocumentAnalysisPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для анализа документов"@ru ;
  rdfs:label "Document Analysis Prompt"@en ;
  v-bpa:promptText """
Ты эффективный помощник по извлечению информации из неструктурированного документа. Твоя задача — разбить текст на главы и определить ключевые атрибуты документа. Содержание глав документа ДОЛЖНО быть написано 1 в 1 как в оригинале, без каких-либо сокращений или комментариев, даже если текст длинный.

Требования к результату:
1. Раздели текст документа по главам:
 • Используй существующие заголовки для определения структуры глав.
 • Каждый раздел должен содержать: название раздела (title), тип раздела (section_type) и содержание раздела (content).
 • Определи тип для каждого раздела из предопределенного списка.
 • Текст внутри каждого раздела должен быть представлен в полном объеме, строго в оригинальной формулировке, включая все пункты и подпункты.
 • Никакие сокращения, обобщения или пропуски текста не допускаются.

2. Определи ключевые атрибуты документа:
 • Источник документа (например, "Министерство образования").
 • Полное название документа (например, "Положение о работе IT-отдела" или "Должностная инструкция для инженера-программиста").
 • Тип документа (например, "Положение" или "Должностная инструкция").
 • Департамент, о котором идет речь или в котором работает человек.
 • Лицо, подписавшее документ (полное имя).
 • Укажи дату (в формате ДД.ММ.ГГГГ).
 • Лица, утвердившие документ (если такие лица есть, предоставь их список с полными именами и датами утверждения).

"""@ru ;
  v-bpa:responseSchema 
"""
{
  "type": "object",
  "assign_properties": {
    "v-bpa:targetType" : "v-bpa:ProcessDocument"
  },
  "properties": {
    "sections": {
      "mapping": "v-bpa:hasDocumentSection",
      "create_new_individuals": true,
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": { 
		"type": "string", 
    		"mapping": "v-bpa:sectionTitle"
		},
        "content": {
		 "type": "string", 
    		"mapping": "v-bpa:sectionContent"
		},
          "section_type": { 
            "type": "string",
    	    "mapping": "v-bpa:hasSectionType"
          }
        },
        "required": ["title", "content", "section_type"]
      }
    },
    "document_title": { 
      "type": "string",
      "mapping": "v-bpa:documentTitle"
    },
    "document_type": { 
      "type": "string", 
      "mapping": "v-bpa:documentType"
    },
    "department": { 
      "type": "string",
      "mapping": "v-bpa:hasDepartment"
    },
    "document_source": { 
      "type": "string",
      "mapping": "v-bpa:documentSource"
    },
    "signed_date": { 
      "type": "string",
      "mapping": "v-bpa:documentSignedDate"
    },
    "signed_by": { 
      "type": "string",
      "mapping": "v-bpa:documentSignedBy"
    }
  },
  "required": ["sections", "document_title", "document_type", "department", "document_source", "signed_date", "signed_by"]
}
""" ;
.

v-bpa:ImagesToTextPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Image to text Prompt"@en ;
  v-bpa:promptText """
Ты эффективный помощник, способный точно распознавать текст с изображений документов. 

Твоя задача — извлечь весь видимый текст с предоставленного изображения, ОБЯЗАТЕЛЬНО сохраняя точные формулировки и последовательность текста. 

Соблюдай следующие правила:
1. Включай разрывы строк, заголовки и маркеры списка, если они присутствуют. 
2. Игнорируй графические элементы, изображения и нерелевантные узоры. 
3. Постарайся распознать рукописный текст, если он читаем. 

Предоставь результат в виде обычного текста.
"""@ru ;
  v-bpa:responseSchema
"""
{
  "type": "object",
  "assign_properties": {
    "v-bpa:targetType": "v-bpa:ProcessDocument"
  },
  "properties": {
        "data": { 
          "type": "string",
          "mapping": "v-bpa:extractedText"
        }
  },
  "required": ["data"]
}
""" ;
.

v-bpa:ProcessExtractionPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для извлечения бизнес-процессов из документов"@ru ;
  rdfs:label "Business Process Extraction Prompt"@en ;
  v-bpa:promptText """
Ты — эксперт в управлении бизнес-процессами в организации. Бизнес процесы должны быть основнаны на требованиях внутренних документов.
Твоя задача внести изменения в текущие бизнес-процессы которые бы позволяли удовлетворить все требования указанные в документах.

На входе будут даны текущие бизнес процессы и измененные документы (новые, измененные или удаленные):
 1. Должностные инструкции, которые содержат перечень обязанностей, ролей и функций сотрудников.
 2. Положения, которые содержат описание подразделений, их взаимосвязей и ключевых целей.

Необходимо:
 1. На основе этих данных необходимо создать множество операций над бизнес-процессами, которые:
 - Обеспечивают выполнение всех требований, указанных в документах.
 - Учитывают описание должностей и структуру отделов.
 - Обеспечивают эффективность работы организации.

 2. Каждая операция должна содержать следующие поля:
 - Действие (action) с одним из трех возможных вариантов: add, update or remove.
 - ID бизнес процесса из списка бизнес процессов поданных на входе (используй нумерацию BP01, BP02, и т.д.)
 - Наполнение (content) бизнес-процесса

 3. Каждое наполнение (content) должен содержать следующие поля:
 - Название бизнес-процесса (кратко отражает его суть).
 - Название документа, на основании которого создан данный бизнес-процесс.
 - Описание бизнес-процесса (подробно объясняет цель, шаги и результаты).
 - Отдел, ответственный за выполнение бизнес-процесса.
 - Должности сотрудников, которые участвуют в процессе
 - Примерное время выполнения данного бизнес-процесса в часах
 - Количество повторений данного бизнес-процесса в год

При анализе документов:
1. Ищи обязательные действия, которые должны выполняться регулярно
2. Ищи периодические отчеты или регулярные результаты работы
3. Ищи взаимодействия между сотрудниками и отделами
4. Учитывай иерархию и роли сотрудников
5. Оценивай примерное время выполнения на основе сложности задач
6. Оценивай частоту выполнения исходя из контекста и требований
"""@ru ;
.

v-bpa:ProcessListExtractionPrompt
  rdf:type v-bpa:SystemPrompt ;
  rdfs:label "Промпт для извлечения процессов из неструктурированного текста"@ru ;
  rdfs:label "Prompt for process extraction from unstructured text"@en ;
  v-bpa:promptText """
Ты эффективный помощник по извлечению информации из неструктурированного текста. 
Твоя задача — структурировать перечисленные операции над бизнес-процессами и выделить отдельные атрибуты в них. 

Требования к результату:
1. Все операции над бизнес процессами должны быть структурированы.

2. Каждая операция должна содержать следующие поля:
- Действие (action) с одним из трех возможных вариантов: add, update or remove.
- ID бизнес процесса из списка бизнес процессов поданных на входе
- Наполнение (content) бизнес-процесса

3. Каждый бизнес-процесс должен содержать следующие поля:
- Название бизнес-процесса (кратко отражает его суть).
- Название документа, на основании которого создан данный бизнес-процесс.
- Описание бизнес-процесса (подробно объясняет цель, шаги и результаты).
- Отдел, ответственный за выполнение бизнес-процесса.
- Должности сотрудников, которые участвуют в процессе, с их ролями и обязанностями.
- Примерное время выполнения данного бизнес-процесса в часах
- Количество повторений данного бизнес-процесса в год

"""@ru ;
  v-bpa:responseSchema 
"""
{
  "type": "object",
  "properties": {
    "processes": {
      "type": "array",
      "mapping": "v-bpa:hasProcess",
      "create_new_individuals": true,
      "items": {
        "type": "object",
        "properties": {
          "label": { 
            "type": "string", 
            "mapping": "rdfs:label"
          },
          "description": {
            "type": "string", 
            "mapping": "v-bpa:processDescription"
          },
          "department": {
            "type": "string",
            "mapping": "v-bpa:responsibleDepartment"
          },
          "laborCosts": {
            "type": "number",
            "mapping": "v-bpa:laborCosts"
          },
          "frequency": {
            "type": "integer",
            "mapping": "v-bpa:processFrequency"
          },
          "participants": {
            "type": "string",
            "mapping": "v-bpa:processParticipant"
          }
        }
      }
    }
  },
  "required": ["processes"]
}
""" ;
.
